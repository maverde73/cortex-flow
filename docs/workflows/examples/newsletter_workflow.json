{
  "name": "email_newsletter",
  "version": "1.0",
  "description": "Research weekly trends and create newsletter. Params: {topic, audience, tone, length}",
  "trigger_patterns": [
    ".*newsletter.*",
    ".*weekly.*summary.*",
    "send.*email.*digest.*"
  ],

  "nodes": [
    {
      "id": "research_trends",
      "agent": "researcher",
      "instruction": "Research latest trends in {topic} from the past week. Focus on: news, statistics, key developments.",
      "timeout": 300
    },
    {
      "id": "analyze_relevance",
      "agent": "analyst",
      "instruction": "Analyze these trends and rank by relevance for {audience}:\n\n{research_trends}\n\nProvide top 5 items with importance score.",
      "depends_on": ["research_trends"]
    },
    {
      "id": "write_newsletter",
      "agent": "writer",
      "instruction": "Write engaging newsletter with:\n- Catchy subject line\n- Introduction paragraph\n- Top 5 trends from:\n{analyze_relevance}\n\nTone: {tone}\nLength: {length} words",
      "depends_on": ["analyze_relevance"],
      "timeout": 180
    }
  ]
}
